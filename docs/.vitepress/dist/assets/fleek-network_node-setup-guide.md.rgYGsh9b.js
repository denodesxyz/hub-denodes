import{_ as s,o as i,c as a,U as e,ap as t,aq as n,ar as l,as as h,at as p,au as o,av as d,aw as r}from"./chunks/framework.FGl4sX9b.js";const f=JSON.parse('{"title":"Node Setup Guide (Outdated)","description":"","frontmatter":{},"headers":[],"relativePath":"fleek-network/node-setup-guide.md","filePath":"fleek-network/node-setup-guide.md"}'),k={name:"fleek-network/node-setup-guide.md"},c=e('<h1 id="node-setup-guide-outdated" tabindex="-1">Node Setup Guide (Outdated) <a class="header-anchor" href="#node-setup-guide-outdated" aria-label="Permalink to &quot;Node Setup Guide (Outdated)&quot;">â€‹</a></h1><p>Fleek Network: Node Setup Guide</p><p><img src="'+t+`" alt="An image"></p><p>Welcome to our guide on setting up your node and participating in the <a href="https://docs.fleek.network/docs/node/testnet-onboarding/" target="_blank" rel="noreferrer">Fleek testnet</a>. Follow these step-by-step instructions to get started.</p><h2 id="hardware-requirements" tabindex="-1">Hardware Requirements <a class="header-anchor" href="#hardware-requirements" aria-label="Permalink to &quot;Hardware Requirements&quot;">â€‹</a></h2><p>We recommend the following minimum hardware requirements for running the Fleek Node:</p><ul><li>Machine: <strong>CPU 4 Core, 32 GB RAM, 20GB+ SSD</strong></li><li>OS: <strong>Ubuntu Linux 22.04 (LTS)+, Debian 11+</strong></li></ul><h2 id="setting-up-a-fleek-node" tabindex="-1">Setting up a Fleek Node <a class="header-anchor" href="#setting-up-a-fleek-node" aria-label="Permalink to &quot;Setting up a Fleek Node&quot;">â€‹</a></h2><p>Update system and install requirements:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre></div><h3 id="create-user" tabindex="-1">Create user <a class="header-anchor" href="#create-user" aria-label="Permalink to &quot;Create user&quot;">â€‹</a></h3><p>Create a new user and add it to the sudo group so that it can execute commands as root:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> adduser</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lgtn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usermod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -aG</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lgtn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">su</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lgtn</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/lgtn</span></span></code></pre></div><h3 id="installing" tabindex="-1">Installing <a class="header-anchor" href="#installing" aria-label="Permalink to &quot;Installing&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://get.fleek.network</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bash</span></span></code></pre></div><p>Installation is as simple as possible. The installer will install all dependencies for you, compile binary files and create service files. During the installation process, select the &quot;Natively&quot; startup method, and answer Yes (&quot;y&quot;) to all other questions.</p><p><img src="`+n+'" alt="An image" data-zoomable=""></p><p><img src="'+l+`" alt="An image" data-zoomable=""></p><div class="language-note vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">note</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>After installation, the private keys will be located in the:</span></span>
<span class="line"><span>/home/lgtn/.lightning/keystore/directory. </span></span>
<span class="line"><span></span></span>
<span class="line"><span>Be sure to save them in a secure place.</span></span></code></pre></div><p>After completion, start the service:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lightning</span></span></code></pre></div><p>And make sure it&#39;s running:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lightning</span></span></code></pre></div><p><img src="`+h+'" alt="An image" data-zoomable=""></p><h2 id="staking-tflk" tabindex="-1">Staking tFLK <a class="header-anchor" href="#staking-tflk" aria-label="Permalink to &quot;Staking tFLK&quot;">â€‹</a></h2><p>Test tokens need to be staked for the node to work. The first thing to do is to add the <code>Fleek Network</code> to Metamask.</p><div style="display:flex;flex-direction:column;width:100%;gap:1rem;"><img src="'+p+'" style="width:50%;"><div style="display:flex;"><div style="width:50%;"></div><img src="'+o+'" style="width:50%;"></div></div><ul><li>Network Name: <code>Fleek Network Testnet</code></li><li>RPC URL: <code>https://rpc.testnet.fleek.network/rpc/v0</code></li><li>Chain ID: <code>59330</code></li><li>Currency symbol: <code>tFLK</code></li></ul><p><img src="'+d+`" alt="An image"></p><p>After that, save and switch to Fleek Network. Then visit the <a href="https://faucet.testnet.fleek.network/" target="_blank" rel="noreferrer">Faucet website</a>. You need to connect your wallet on the site. Once <code>Connect Wallet</code> is ready, proceed to <code>Mint tFLK</code> and wait until the balance of the account in your Metamask increases. You need to have <code>tFLK</code> before proceeding.</p><p>Once <code>tFLK</code> balance is available, click in the <code>Stake</code> button. You&#39;ll be required to provided the following details from your node:</p><ul><li>Node Public Key</li><li>Consensus Public Key</li><li>Server IP Address</li></ul><p>You can get the details quickly by running the node details script in the terminal connected to your machine or server where the node is set up and running, as follows:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://get.fleek.network/node_details</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bash</span></span></code></pre></div><p>The response should include the following details:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ðŸ¤–</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Your</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> details</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> are</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> following</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">The</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Public</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NODE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PUBLIC</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> KE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">The</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Consensus</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Public</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CONSENSUS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PUBLIC</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> KE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">The</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> address</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SERVER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ADDRES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">S</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p>If the server IP address is not displayed in the command output, you can quickly find it out as follows:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth0.me</span></span></code></pre></div><p>Copy the corresponding values into the form and confirm the transaction on metamask.</p><p>Once the transaction is confirmed by the network, you can again check the node details on the server:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://get.fleek.network/node_details</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bash</span></span></code></pre></div><p>Now, if everything was successful, the following line will be added to the output:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>The Node staked amount is 1000 FLK</span></span></code></pre></div><h3 id="health-check" tabindex="-1">Health check <a class="header-anchor" href="#health-check" aria-label="Permalink to &quot;Health check&quot;">â€‹</a></h3><p>Run the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://get.fleek.network/healthcheck</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bash</span></span></code></pre></div><p><img src="`+r+'" alt="An image" data-zoomable=""></p><p>Another way is to run a quick health check by sending a GET request to /health endpoint of RPC on <a href="https://docs.fleek.network/docs/node/requirements/#ports" target="_blank" rel="noreferrer">port</a> 4230.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\\p&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> localhost:4230/health</span></span></code></pre></div><p>If successful, you should get the response <code>running and staked</code> or <code>running</code> if the tokens aren&#39;t staked yet.</p><p>If you get an error, then it means that your node is not healthy.</p><h3 id="checking-logs" tabindex="-1">Checking Logs <a class="header-anchor" href="#checking-logs" aria-label="Permalink to &quot;Checking Logs&quot;">â€‹</a></h3><p>Standard out and standard error are two data streams created when we launch the Lightning process, on Lightning process activity we redirect the data streams to files as follows:</p><ul><li><strong>Standard output</strong> - The text output from the service process is put in <code>/var/log/lightning/output.log</code>.</li><li><strong>Standard error</strong> - The error messages from the service process are put in <code>/var/log/lightning/diagnostic.log</code>.</li></ul><p>The log files can be monitored in real-time for diagnosis and troubleshooting purposes and the tail command is the most basic way for this purpose.</p><p>You can watch the node standard output (stdout) by running the command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tail</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/log/lightning/output.log</span></span></code></pre></div><p>Or, watch the standard error (stderr) for node diagnostics by running the command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tail</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/log/lightning/diagnostic.log</span></span></code></pre></div><h2 id="useful-commands" tabindex="-1">Useful commands <a class="header-anchor" href="#useful-commands" aria-label="Permalink to &quot;Useful commands&quot;">â€‹</a></h2><ul><li>Restart your node:</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lightning</span></span></code></pre></div><ul><li>Stop your node:</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lightning</span></span></code></pre></div><ul><li>Check the service status:</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lightning</span></span></code></pre></div>',66),g=[c];function u(F,y,b,C,m,v){return i(),a("div",null,g)}const E=s(k,[["render",u]]);export{f as __pageData,E as default};
